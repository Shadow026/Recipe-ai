<!DOCTYPE html>
<html lang="es"> <!-- Indica que el documento es HTML5 y que el idioma es espa√±ol -->
<head>
  <meta charset="UTF-8"> <!-- Define la codificaci√≥n de caracteres (UTF-8 admite tildes y √±) -->
  <title>Generador de Recetas con IA</title> <!-- T√≠tulo de la pesta√±a del navegador -->

  <!-- Estilos CSS -->
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; } /* Fuente general y margen alrededor */
    input, button { padding: 10px; margin-top: 10px; width: 100%; } /* Espaciado y ancho completo para input y bot√≥n */
    #resultado { 
      white-space: pre-wrap; /* Mantiene saltos de l√≠nea */
      margin-top: 20px; 
      padding: 10px; 
      border: 1px solid #ccc; /* Cuadro con borde gris */
    }
  </style>
</head>

<body>
  <h1>üç≥ Generador de Recetas con IA</h1> <!-- Encabezado principal -->
  <p>Escribe los ingredientes que tienes:</p> <!-- Texto explicativo -->

  <!-- Campo de entrada de ingredientes -->
  <input id="ingredientes" placeholder="Ejemplo: pollo, arroz, tomate">

  <!-- Bot√≥n que llama a la funci√≥n "generar" cuando se hace clic -->
  <button onclick="generar()">Generar receta</button>

  <!-- Contenedor donde aparecer√° el resultado -->
  <div id="resultado"></div>

  <!-- Script con la l√≥gica en JavaScript -->
  <script>
    // Funci√≥n asincr√≥nica que se ejecuta al presionar el bot√≥n
    async function generar() {
      // Obtiene el valor que el usuario escribi√≥ en el input
      const ingredientes = document.getElementById("ingredientes").value;

      // Muestra un mensaje mientras espera la respuesta del servidor
      document.getElementById("resultado").innerText = "‚è≥ Generando receta...";
      
      // Hace una petici√≥n POST al backend (servidor en Node.js, puerto 3000)
      const res = await fetch("http://localhost:3000/generar-receta", {
        method: "POST", // M√©todo POST para enviar datos
        headers: {"Content-Type": "application/json"}, // Tipo de contenido: JSON
        body: JSON.stringify({ingredientes}) // Convierte el valor de ingredientes en JSON
      });
      
      // Convierte la respuesta en formato JSON
      const data = await res.json();

      // Muestra la receta recibida o un mensaje de error si no llega nada
      document.getElementById("resultado").innerText = data.receta || "Error al generar la receta";
    }
  </script>
</body>
</html>
